(()=>{"use strict";var e={d:(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};function t(e){return e.handshakeDID=!1,e.addEventListener("message",(n=>{if("https://dreamid.shenlanmengtu.com"===n.origin){let t=n.data;if(null!=t&&null!=t.didhandshake)e.handshakeDID=!0;else if(null!=t&&"OK"===t.result){const n=new CustomEvent("DreamIDSignInOnSuccess",{accountInfo:t});e.dispatchEvent(n)}else{const n=new CustomEvent("DreamIDSignInOnFailed",{accountInfo:t});e.dispatchEvent(n)}}})),console.log("initialized dreamID."),!0}function a(e,n){return new Promise((t=>{let a="https://dreamid.shenlanmengtu.com?"+n,i=e.open(a,"DID SignIn","height=800,width=600");var o=setInterval((()=>{i.postMessage({didhandshake:"true"},"https://dreamid.shenlanmengtu.com"),1==e.handshakeDID&&(clearInterval(o),t("start DID signin")),i.closed&&(console.log("DID canceled"),clearInterval(o),t("canceled DID signin"))}),1e3)}))}e.r(n),e.d(n,{init:()=>t,signIn:()=>a}),window.dreamid=n})();
//# sourceMappingURL=dreamid.min.js.map